webpackJsonp([1],{"/C76":function(t,e){},"0PMB":function(t,e){},"48ZM":function(t,e){},CcRi:function(t,e){},DIGZ:function(t,e){},DS5Z:function(t,e){},FJk6:function(t,e){},Fzcs:function(t,e){},"G+9R":function(t,e){},H05A:function(t,e){},K2ru:function(t,e){},MYMD:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=o("VU/8")({name:"App"},a,!1,function(t){o("0PMB")},null,null).exports,n=o("/ocq"),r=o("Zrlr"),c=o.n(r),l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-footer",{staticStyle:{height:"50px"}},[o("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[o("el-col",{attrs:{span:4}},[o("div",{staticClass:"item",class:{active:"/"===t.$route.path},on:{click:function(e){return t.clickItem("/")}}},[o("i",{staticClass:"el-icon-house",staticStyle:{"font-size":"20px"}}),o("p",[t._v("首页")])])]),t._v(" "),o("el-col",{attrs:{span:4}},[o("div",{staticClass:"item",class:{active:"/want"===t.$route.path},on:{click:function(e){return t.clickItem("/want")}}},[o("i",{staticClass:"el-icon-collection-tag",staticStyle:{"font-size":"20px"}}),o("p",[t._v("想读")])])]),t._v(" "),o("el-col",{attrs:{span:4}},[o("div",{staticClass:"item",class:{active:"/reading"===t.$route.path},on:{click:function(e){return t.clickItem("/reading")}}},[o("i",{staticClass:"el-icon-reading",staticStyle:{"font-size":"20px"}}),o("p",[t._v("在读")])])]),t._v(" "),o("el-col",{attrs:{span:4}},[o("div",{staticClass:"item",class:{active:"/have"===t.$route.path},on:{click:function(e){return t.clickItem("/have")}}},[o("i",{staticClass:"el-icon-collection",staticStyle:{"font-size":"20px"}}),o("p",[t._v("已读")])])]),t._v(" "),o("el-col",{attrs:{span:4}},[o("div",{staticClass:"item",class:{active:"/myaccount"===t.$route.path},on:{click:function(e){return t.clickItem("/myaccount")}}},[o("i",{staticClass:"el-icon-user",staticStyle:{"font-size":"20px"}}),o("p",[t._v("我的")])])])],1)],1)],1)},staticRenderFns:[]};var u=o("VU/8")({name:"FooterBar",methods:{clickItem:function(t){this.$router.push(t)}}},l,!1,function(t){o("MYMD")},"data-v-4c495c5f",null).exports,d=function t(e,o,i,a){c()(this,t),this.isbn=e,this.book_name=o,this.book_pic=i,this.book_writer=a},m=function t(e,o){c()(this,t),this.booklist_id=e,this.booklist_name=o},p={name:"Homepage",components:{FooterBar:u},data:function(){return{nowDate:"",nowWeek:"",books:"",lists:"",book1:"",book2:"",book3:"",user_id:"1",booklist1:"",booklist2:""}},created:function(){var t=(new Date).getFullYear(),e=(new Date).getMonth()+1,o=(new Date).getDate(),i=(new Date).getDay();this.nowWeek=["","星期一","星期二","星期三","星期四","星期五","星期六","星期日"][i],this.nowDate=t+"."+e+"."+o,this.book1=new d("9787535688255","鸟瞰古文明","https://img3.doubanio.com/view/subject/l/public/s33475751.jpg","[法]让-克劳德·戈尔万"),this.book2=new d("9787544276986","你当像鸟飞往你的山","https://img9.doubanio.com/view/subject/l/public/s33492346.jpg","[美]塔拉·韦斯特弗"),this.book3=new d("9787108018809","我们仨","https://img3.doubanio.com/view/subject/l/public/s1015872.jpg","杨绛"),this.booklist1=new m(1,"2020奥斯卡提名作品原著"),this.booklist2=new m(2,"豆瓣2019最受关注图书"),this.user_id=localStorage.getItem("userId"),this.login()&&(this.getRecBook(),this.getRecBookList())},methods:{getRecBook:function(){var t=this;this.$axios.get("/books//recommended_books/"+this.user_id).then(function(e){t.book1.isbn=e.data[0].isbn,t.book1.book_name=e.data[0].name,t.book1.book_pic=e.data[0].pic,t.book1.writer=e.data[0].writer,t.book2.isbn=e.data[1].isbn,t.book2.book_name=e.data[1].name,t.book2.book_pic=e.data[1].pic,t.book2.writer=e.data[1].writer,t.book3.isbn=e.data[2].isbn,t.book3.book_name=e.data[2].name,t.book3.book_pic=e.data[2].pic,t.book3.writer=e.data[2].writer})},getRecBookList:function(){var t=this;this.$axios.get("/booklists//recommended_booklists/"+this.user_id).then(function(e){t.booklist1.booklist_id=e.data[0].id,t.booklist1.booklist_name=e.data[0].name,t.booklist2.booklist_id=e.data[1].id,t.booklist2.booklist_name=e.data[1].name})},login:function(){return console.log("local id",localStorage.getItem("userId")),null!=localStorage.getItem("userId")},routeTo:function(t,e){this.$router.push({name:t,params:e})}}},v={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"homepage-container"}},[o("div",{attrs:{id:"box_sign"}},[o("div",{attrs:{id:"box_date"}},[o("div",{staticStyle:{"margin-right":"50px"},attrs:{id:"date_font"}},[t._v(t._s(t.nowDate))]),t._v(" "),o("div",{staticStyle:{"margin-left":"20px"},attrs:{id:"week_font"}},[t._v(t._s(t.nowWeek))])]),t._v(" "),t._m(0)]),t._v(" "),o("div",{attrs:{id:"box_recommendation"}},[o("div",{attrs:{id:"box_recommendation_book"}},[o("div",{attrs:{id:"box_book"}},[o("img",{staticStyle:{height:"80px",width:"60px"},attrs:{src:t.book1.book_pic}}),t._v(" "),o("el-button",{staticStyle:{padding:"3px 3px"},attrs:{type:"text",id:"book_name"},on:{click:function(e){return t.$router.push({name:"BookDetails",params:{isbn:t.book1.isbn}})}}},[t._v(t._s(t.book1.book_name))]),t._v(" "),o("div",{attrs:{id:"book_writer"}},[t._v(t._s(t.book1.book_writer))])],1),t._v(" "),o("div",{attrs:{id:"box_book"}},[o("img",{staticStyle:{height:"80px",width:"60px"},attrs:{src:t.book2.book_pic}}),t._v(" "),o("el-button",{staticStyle:{padding:"3px 3px"},attrs:{type:"text",id:"book_name"},on:{click:function(e){return t.$router.push({name:"BookDetails",params:{isbn:t.book2.isbn}})}}},[t._v(t._s(t.book2.book_name))]),t._v(" "),o("div",{attrs:{id:"book_writer"}},[t._v(t._s(t.book2.book_writer))])],1),t._v(" "),o("div",{attrs:{id:"box_book"}},[o("img",{staticStyle:{height:"80px",width:"60px"},attrs:{src:t.book3.book_pic}}),t._v(" "),o("el-button",{staticStyle:{padding:"3px 3px"},attrs:{type:"text",id:"book_name"},on:{click:function(e){return t.$router.push({name:"BookDetails",params:{isbn:t.book3.isbn}})}}},[t._v(t._s(t.book3.book_name))]),t._v(" "),o("div",{attrs:{id:"book_writer"}},[t._v(t._s(t.book3.book_writer))])],1)]),t._v(" "),o("hr",{staticStyle:{width:"90%","margin-top":"10px","margin-bottom":"6px"}}),t._v(" "),o("div",{attrs:{id:"box_list"}},[o("el-button",{attrs:{span:14,id:"list_name"},on:{click:function(e){return t.$router.push({name:"BookList",params:{booklist_id:t.booklist1.booklist_id}})}}},[t._v(t._s(t.booklist1.booklist_name))]),t._v(" "),o("el-button",{staticStyle:{"margin-left":"0","margin-top":"3px"},attrs:{span:14,id:"list_name"},on:{click:function(e){return t.$router.push({name:"BookList",params:{booklist_id:t.booklist2.booklist_id}})}}},[t._v(t._s(t.booklist2.booklist_name))])],1)]),t._v(" "),o("FooterBar")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"day_card"}},[e("img",{staticStyle:{height:"150px",width:"300px","margin-top":"16px","margin-bottom":"10px"},attrs:{src:o("msXH")}}),this._v(" "),e("span",{attrs:{id:"sign_1"}},[this._v("它们像人一样，生命中更多时间是用来等待的。")]),this._v(" "),e("span",{attrs:{id:"sign_2"}},[this._v("—— 《羊道 春牧场》李娟")])])}]};var _=o("VU/8")(p,v,!1,function(t){o("WxHO")},"data-v-2fac1537",null).exports,h={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-container",{attrs:{id:"total"}},[o("el-aside",{staticStyle:{width:"130px"}},[o("el-image",{staticClass:"image",attrs:{src:t.item.pic}})],1),t._v(" "),o("el-container",[o("el-header",{staticStyle:{"text-align":"left"}},[o("span",{staticClass:"title"},[t._v(t._s(t.item.name))]),t._v(" "),o("p",{staticClass:"author"},[t._v(" "+t._s(t.item.writer))])]),t._v(" "),o("el-container",[o("el-header",[3===t.status?o("p",{attrs:{id:"detail_percent"}},[t._v("阅读至 "+t._s((100*t.item.percentage).toFixed(2))+"%")]):o("p",{attrs:{id:"detail_percent"}},[t._v(t._s(t.detail_percent))]),t._v(" "),o("el-button",{attrs:{id:"turn_detail",size:"mini",type:"primary"},on:{click:function(e){return t.$router.push({name:"BookDetails",params:{isbn:t.item.isbn}})}}},[t._v("详情")])],1)],1),t._v(" "),o("el-footer",[2===t.status?o("p",{attrs:{id:"detail_time"}},[t._v("加入书架时间 "+t._s(t.item.beginTime))]):3===t.status?o("p",{attrs:{id:"detail_time"}},[t._v("最近一次阅读 "+t._s(t.item.lastTime))]):4===t.status?o("p",{attrs:{id:"detail_time"}},[t._v("结束阅读时间 "+t._s(t.item.lastTime))]):o("p",{attrs:{id:"detail_time"}},[t._v(t._s(t.detail_time))])])],1)],1),t._v(" "),o("hr",{staticStyle:{width:"94%","margin-top":"12px","margin-bottom":"4px","margin-left":"3%","margin-right":"3%"}})],1)},staticRenderFns:[]};var f=o("VU/8")({name:"BookItem",props:["item","status"],data:function(){return{title:"",author:"",detail_percent:"",detail_time:""}},methods:{}},h,!1,function(t){o("H05A")},"data-v-a7771d36",null).exports,b={name:"WantToRead",components:{FooterBar:u,BookItem:f},data:function(){return{items:"",centerDialogVisible:!1}},methods:{routeTo:function(t,e){this.$router.push({name:t,params:e})}},created:function(){var t=this,e=localStorage.getItem("userId");console.log("local id",localStorage.getItem("userId")),this.$axios.get("/books/userbooks?status=2&id="+e).then(function(e){t.items=e.data})}},g={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"count-head"}},[t._v("—  共 "+t._s(t.items.length)+" 本  —")]),t._v(" "),t._l(t.items,function(t,e){return o("div",{key:e},[o("BookItem",{attrs:{item:t,status:2}})],1)}),t._v(" "),o("el-button",{attrs:{id:"addbtn",type:"primary",icon:"el-icon-plus",size:"large",circle:""},on:{click:function(e){t.centerDialogVisible=!0}}}),t._v(" "),o("el-dialog",{attrs:{title:"录入方式",visible:t.centerDialogVisible,width:"70%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[o("el-row",[o("i",{staticClass:"el-icon-camera",staticStyle:{"font-size":"20px",margin:"5%"},on:{click:function(e){return t.routeTo("Scan")}}},[t._v(" 扫码录入")])]),t._v(" "),o("el-row",[o("i",{staticClass:"el-icon-search",staticStyle:{"font-size":"20px",margin:"5%"},on:{click:function(e){return t.routeTo("ResultShow")}}},[t._v(" 搜索书籍")])]),t._v(" "),o("el-row",[o("i",{staticClass:"el-icon-edit",staticStyle:{"font-size":"20px",margin:"5%"},on:{click:function(e){return t.routeTo("AddByHand")}}},[t._v(" 手动录入")])])],1),t._v(" "),o("FooterBar")],2)},staticRenderFns:[]};var k=o("VU/8")(b,g,!1,function(t){o("SyDy")},null,null).exports,x={name:"Reading",components:{FooterBar:u,BookItem:f},data:function(){return{items:""}},created:function(){var t=this,e=localStorage.getItem("userId");console.log("local id",localStorage.getItem("userId")),this.$axios.get("/books/userbooks?status=3&id="+e).then(function(e){t.items=e.data})}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{attrs:{id:"count-head"}},[this._v("—  共 "+this._s(this.items.length)+" 本  —")]),this._v(" "),this._l(this.items,function(t,o){return e("div",{key:o},[e("BookItem",{attrs:{item:t,status:3}})],1)}),this._v(" "),e("FooterBar")],2)},staticRenderFns:[]};var w=o("VU/8")(x,y,!1,function(t){o("DIGZ")},"data-v-df7d6cfe",null).exports,S={name:"HaveRead",components:{FooterBar:u,BookItem:f},data:function(){return{num:"",items:""}},created:function(){var t=this,e=localStorage.getItem("userId");console.log("local id",localStorage.getItem("userId")),this.$axios.get("/books/userbooks?status=4&id="+e).then(function(e){t.items=e.data})}},F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{attrs:{id:"count-head"}},[this._v("—  共 "+this._s(this.items.length)+" 本  —")]),this._v(" "),this._l(this.items,function(t,o){return e("div",{key:o},[e("BookItem",{attrs:{item:t,status:4}})],1)}),this._v(" "),e("FooterBar")],2)},staticRenderFns:[]};var $=o("VU/8")(S,F,!1,function(t){o("X/aj")},"data-v-24e73f8a",null).exports,C={name:"AddByHand",components:{FooterBar:u},data:function(){return{bookForm:{name:"",isbn:"",writer:"",publisher:"",page:""}}},methods:{onSubmit:function(){console.log(this.bookForm);var t={isbn:this.bookForm.isbn,name:this.bookForm.name,writer:this.bookForm.writer,publisher:this.bookForm.publisher,introduction:"暂无简介",pages:this.bookForm.page};console.log("params",t),this.$axios.post("/books/add?",t),this.$message({message:"添加成功",type:"success"}),this.$router.go(-1)},goBack:function(){this.$router.go(-1),console.log("go back")}}},R={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"body"}},[o("el-container",[o("el-header",{staticStyle:{"border-bottom":"1px solid #d2d2d2","background-color":"#f8a232"}},[o("center",[o("p",{staticStyle:{"margin-top":"4%",color:"#ffffff"}},[t._v("填写详情")])])],1)],1),t._v(" "),o("el-form",{ref:"bookForm",attrs:{model:t.bookForm,"label-width":"70px"}},[o("el-form-item",{attrs:{label:"书名"}},[o("el-input",{model:{value:t.bookForm.name,callback:function(e){t.$set(t.bookForm,"name",e)},expression:"bookForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"作者"}},[o("el-input",{model:{value:t.bookForm.writer,callback:function(e){t.$set(t.bookForm,"writer",e)},expression:"bookForm.writer"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"ISBN"}},[o("el-input",{model:{value:t.bookForm.isbn,callback:function(e){t.$set(t.bookForm,"isbn",e)},expression:"bookForm.isbn"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"出版社"}},[o("el-input",{model:{value:t.bookForm.publisher,callback:function(e){t.$set(t.bookForm,"publisher",e)},expression:"bookForm.publisher"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"页数"}},[o("el-input",{model:{value:t.bookForm.page,callback:function(e){t.$set(t.bookForm,"page",e)},expression:"bookForm.page"}})],1),t._v(" "),o("el-form-item",{staticStyle:{"margin-bottom":"45%"}},[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即创建")]),t._v(" "),o("el-button",{staticStyle:{"margin-left":"18%"},on:{click:function(e){return t.$router.back(-1)}}},[t._v("取消")])],1)],1),t._v(" "),o("FooterBar")],1)},staticRenderFns:[]};var I=o("VU/8")(C,R,!1,function(t){o("s3Fb")},"data-v-1d73f7bc",null).exports,B={name:"ResultShow",components:{BookItem:f},data:function(){return{items:[],keywords:null,scanisbn:null}},methods:{goBack:function(){this.$router.go(-1),console.log("go back")},search:function(t){var e=this;console.log(this.keywords),this.$axios.get("/books/search?words="+this.keywords).then(function(t){e.items=t.data,console.log(e.items)})}},created:function(){var t=this;this.scanisbn=this.$route.params.scanisbn,this.scanisbn?this.$axios.get("/books/information/"+this.scanisbn).then(function(e){t.items.push(e.data),console.log(t.items)}):console.log("no result")}},D={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",[o("el-row",{staticClass:"row-bg",staticStyle:{"margin-top":"2%"},attrs:{type:"flex",justify:"space-between"}},[o("el-col",{staticStyle:{"margin-left":"3%"},attrs:{span:4}},[o("el-button",{attrs:{icon:"el-icon-back",circle:""},on:{click:t.goBack}})],1),t._v(" "),o("el-col",{attrs:{span:16}},[o("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}})],1),t._v(" "),o("el-col",{staticStyle:{"margin-left":"3%"},attrs:{span:4}},[o("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:function(e){return t.search(t.keywords)}}})],1)],1)],1),t._v(" "),t._l(t.items,function(t,e){return o("div",{key:e},[o("BookItem",{attrs:{item:t}})],1)})],2)},staticRenderFns:[]};var T=o("VU/8")(B,D,!1,function(t){o("G+9R")},"data-v-4e96ad1b",null).exports,U=o("Xxa5"),z=o.n(U),V=o("exGp"),E=o.n(V),L=(o("Ainv"),o("YE/A")),M={name:"Scan",components:{FooterBar:u},data:function(){return{codeReader:new L.BrowserMultiFormatReader}},created:function(){var t=this;return E()(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t,t.codeReader.getVideoInputDevices().then(function(e){var o=e[0].deviceId;t.codeReader.decodeFromInputVideoDeviceContinuously(o,"video",function(e,o){if(e)return console.log(e.text),void t.$router.push({name:"ResultShow",params:{scanisbn:e.text}});o&&!o&&console.error(o)}),console.log("Started continous decode from camera with id "+o)}).catch(function(t){console.error(t)});case 2:case"end":return e.stop()}},e,t)}))()},methods:{goBack:function(){this.$router.go(-1),console.log("go back")}}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"v-body"},[e("video",{ref:"video",staticStyle:{"margin-top":"30%","margin-bottom":"50%"},attrs:{id:"video",width:"100%",height:"300"}}),this._v(" "),e("FooterBar")],1)},staticRenderFns:[]};var H=o("VU/8")(M,A,!1,function(t){o("FJk6")},"data-v-399052cd",null).exports,W={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-container"},[o("el-button",{staticClass:"return",attrs:{plain:"",icon:"el-icon-arrow-left"},on:{click:function(e){return t.routeTo("Myaccount")}}},[t._v("返回")]),t._v(" "),o("el-form",{staticClass:"login-card"},[o("el-form-item",{attrs:{label:"账号",prop:"phone"}},[o("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:t.loginForm.phone,callback:function(e){t.$set(t.loginForm,"phone",e)},expression:"loginForm.phone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"phone"}},[o("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),o("div",{staticClass:"login-button"},[o("el-button",{staticStyle:{"flex-grow":"2"},on:{click:function(e){return t.routeTo("Register")}}},[t._v("注 册")]),t._v(" "),o("el-button",{staticStyle:{"flex-grow":"2"},attrs:{type:"primary",id:"button2"},on:{click:t.login}},[t._v("登 录")])],1)],1)],1)},staticRenderFns:[]};var j=o("VU/8")({name:"Login",data:function(){return{loginForm:{phone:"",password:""},responseResult:[]}},methods:{routeTo:function(t,e){this.$router.push({name:t,params:e})},login:function(){var t={phone:this.loginForm.phone,password:this.loginForm.password};this.$store.dispatch("profile/getAuthority",t)}}},W,!1,function(t){o("ik03"),o("W6HP")},"data-v-2e67f191",null).exports,Z=o("mw3O"),P=o.n(Z),N={name:"Register",data:function(){return{registerForm:{username:"",phone:"",code:"",password:""},verificationCode:""}},methods:{onSubmit:function(){},routeTo:function(t,e){this.$router.push({name:t,params:e})},verification:function(){var t=this;console.log("phone:",this.registerForm.phone),this.$axios.get("/users//verification/"+this.registerForm.phone).then(function(e){t.verificationCode=e.data})}}},O={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"register-container"},[o("el-button",{staticClass:"return",attrs:{plain:"",icon:"el-icon-arrow-left"},on:{click:function(e){return t.routeTo("Login")}}},[t._v("返回")]),t._v(" "),o("div",{staticStyle:{"font-size":"22px",color:"#feb353","margin-left":"38%","margin-top":"3%"}},[t._v("用户注册")]),t._v(" "),o("el-form",{ref:"registerForm",staticClass:"register-card",attrs:{model:t.registerForm,"label-width":"70px"}},[o("el-form-item",{attrs:{label:"用户名"}},[o("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.registerForm.username,callback:function(e){t.$set(t.registerForm,"username",e)},expression:"registerForm.username"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"账户"}},[o("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:t.registerForm.phone,callback:function(e){t.$set(t.registerForm,"phone",e)},expression:"registerForm.phone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"验证码"}},[o("div",{staticClass:"register-code"},[o("el-input",{staticStyle:{"flex-grow":"2"},attrs:{placeholder:"请输入验证码"},model:{value:t.registerForm.code,callback:function(e){t.$set(t.registerForm,"code",e)},expression:"registerForm.code"}}),t._v(" "),o("el-button",{staticClass:"getcode",attrs:{type:"primary"},on:{click:function(e){return t.verification()}}},[t._v("获取验证码")])],1)]),t._v(" "),o("el-form-item",{attrs:{label:"设置密码"}},[o("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}})],1),t._v(" "),o("div",{staticClass:"register-button"},[o("el-button",{staticStyle:{"flex-grow":"2"},attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定")]),t._v(" "),o("el-button",{staticStyle:{"flex-grow":"1"},on:{click:function(e){return t.routeTo("Login")}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Y=o("VU/8")(N,O,!1,function(t){o("/C76"),o("anSN")},"data-v-7c225ed3",null).exports,G={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-button",{staticClass:"return",attrs:{plain:"",icon:"el-icon-arrow-left"},on:{click:function(e){return t.routeTo("Myaccount")}}},[t._v("设置")]),t._v(" "),o("el-menu",{staticClass:"setting-form"},[o("div",{staticClass:"setting-title"},[t._v("个人资料")]),t._v(" "),o("el-submenu",{attrs:{index:"1"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-arrow-right"}),t._v(" "),o("span",{staticStyle:{"font-size":"16px"}},[t._v("基本信息")])])],2),t._v(" "),o("el-submenu",{attrs:{index:"2"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-arrow-right"}),t._v(" "),o("span",{staticStyle:{"font-size":"16px"}},[t._v("账户与安全")])])],2),t._v(" "),o("div",{staticClass:"setting-title"},[t._v("阅读模式")]),t._v(" "),o("div",{staticClass:"settings-radio"},[o("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("自由阅读")]),t._v(" "),o("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("计划阅读")])],1),t._v(" "),o("div",{staticClass:"setting-title"},[t._v("通知设置")]),t._v(" "),o("div",{staticClass:"settings-inform"},[o("div",[t._v("开启全局推送")]),t._v(" "),o("div",[o("el-switch",{attrs:{"active-color":"#feb353","inactive-color":"#c0bbbb"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)]),t._v(" "),o("div",{staticClass:"setting-title"},[t._v("关于与帮助")]),t._v(" "),o("el-menu-item",{attrs:{index:"3"}},[o("i",{staticClass:"el-icon-arrow-right"}),t._v(" "),o("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"title"},slot:"title"},[t._v("关于")])]),t._v(" "),o("el-menu-item",{attrs:{index:"4"}},[o("i",{staticClass:"el-icon-arrow-right"}),t._v(" "),o("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"title"},slot:"title"},[t._v("帮助与反馈")])]),t._v(" "),o("el-menu-item",{attrs:{index:"5"}},[o("i",{staticClass:"el-icon-arrow-right"}),t._v(" "),o("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"title"},slot:"title"},[t._v("版本更新")]),t._v(" "),o("span",{staticStyle:{float:"right"}},[t._v("当前版本(0.0.1)")])]),t._v(" "),o("el-button",{staticClass:"settings-out",attrs:{type:"danger"}},[t._v("退出登录")])],1)],1)},staticRenderFns:[]};var X=o("VU/8")({name:"Settings",data:function(){return{radio:"1",value1:"false"}},methods:{routeTo:function(t,e){this.$router.push({name:t,params:e})}}},G,!1,function(t){o("K2ru"),o("ffhc")},"data-v-715864ba",null).exports,q={name:"eCharts",data:function(){return{month:"3"}},mounted:function(){this.drawLine()},methods:{drawLine:function(){this.$echarts.init(document.getElementById("myChart")).setOption({backgroundColor:"#feb353",tooltip:{},legend:{data:["页数"],icon:"circle",textStyle:{color:"white"}},xAxis:{data:["3/1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],axisLine:{lineStyle:{color:"#ffffff"}},axisLabel:{interval:1}},yAxis:{show:!1},grid:{top:"4%",left:"3%",right:"3%",bottom:"10%",containLabel:!1},series:[{type:"bar",data:[21,0,43,25,44,11,0,43,34,63,53,106,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],label:{show:!0,position:"top",textStyle:{color:"white",fontSize:9},formatter:function(t){return t.value>0?t.value:""}},itemStyle:{emphasis:{barBorderRadius:11},normal:{barBorderRadius:11}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255,255,255,1)"},{offset:.8,color:"rgba(255,255,255,0.8)"},{offset:1,color:"rgba(255,255,255,0)"}],gloablCoord:!1}}]})}}},J={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"echarts-box"},[e("el-button",{staticClass:"turnleft",attrs:{plain:"",icon:"el-icon-arrow-left"}}),this._v("\r\n        "+this._s(this.month)+"月阅读统计\r\n        "),e("el-button",{staticClass:"turnright",attrs:{plain:"",icon:"el-icon-arrow-right"}})],1),this._v(" "),e("div",{staticStyle:{height:"200px",padding:"0"},attrs:{id:"myChart"}})])},staticRenderFns:[]};var K={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"item-box"},[o("el-image",{staticStyle:{width:"60px",height:"80px","margin-right":"15px"},attrs:{src:t.item.pic}}),t._v(" "),o("div",{staticClass:"item-info"},[o("div",{staticClass:"item-title"},[t._v(t._s(t.item.name))]),t._v(" "),o("div",{staticClass:"item-text"},[t._v(t._s(t.item.writer))]),t._v(" "),o("div",{staticClass:"item-text"},[t._v("最后阅读于"+t._s(t.item.lastTime))]),t._v(" "),o("div",{staticClass:"item-point"},[t._v("个人评分"+t._s(t.item.point))])])],1)},staticRenderFns:[]};var Q={name:"MyAccount",components:{FooterBar:u,MyEcharts:o("VU/8")(q,J,!1,function(t){o("TRpD")},"data-v-5a3ef006",null).exports,MyaccountItem:o("VU/8")({name:"MyaccountItem",props:["item"],data:function(){return{}},methods:{}},K,!1,function(t){o("48ZM")},"data-v-26cbe27c",null).exports},data:function(){return{user:{name:"张是是"},data:"",month:"11",items:""}},methods:{login:function(){return console.log("local id",localStorage.getItem("userId")),null!=localStorage.getItem("userId")&&(this.user.name=localStorage.getItem("name"),!0)},routeTo:function(t,e){this.$router.push({name:t,params:e})},imgUrl:function(){var t=localStorage.getItem("avatar");return null==t?"http://q6vr3uv5e.bkt.clouddn.com/avatar.png":t}},created:function(){var t=this,e=localStorage.getItem("userId");this.$axios.get("/users/totaldata/"+e).then(function(e){return t.data=e.data}),this.$axios.get("/books/userbooks?status=4&id="+e).then(function(e){return t.items=e.data})}},tt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"myaccount-container"},[o("div",{staticClass:"myaccount-top"},[o("el-button",{staticClass:"settings",attrs:{icon:"el-icon-setting"},on:{click:function(e){return t.routeTo("Settings")}}}),t._v(" "),o("el-button",{staticClass:"settings",attrs:{icon:"el-icon-message"}})],1),t._v(" "),t.login()?o("div",[o("div",{staticClass:"myaccount-user"},[o("el-avatar",{staticStyle:{height:"90px",width:"90px"},attrs:{src:t.imgUrl()}}),t._v(" "),o("div",{staticStyle:{"font-size":"22px","margin-left":"7%"}},[t._v(t._s(t.user.name))])],1),t._v(" "),o("div",{staticClass:"myaccount-inform"},[o("div",{staticClass:"myaccount-item"},[o("span",[t._v("阅读天数")]),o("br"),t._v(" "),o("span",{staticStyle:{"font-size":"28px",color:"#fd9b1c"}},[t._v(t._s(t.data.totalDays))]),t._v(" "),o("span",[t._v("天")])]),t._v(" "),o("div",{staticClass:"myaccount-item"},[o("span",[t._v("总图书数")]),o("br"),t._v(" "),o("span",{staticStyle:{"font-size":"28px",color:"#fd9b1c"}},[t._v(t._s(t.data.totalBooks))]),t._v(" "),o("span",[t._v("本")])]),t._v(" "),o("div",{staticClass:"myaccount-item"},[o("span",[t._v("阅读完成")]),o("br"),t._v(" "),o("span",{staticStyle:{"font-size":"28px",color:"#fd9b1c"}},[t._v(t._s(t.data.totalDone))]),t._v(" "),o("span",[t._v("本")])]),t._v(" "),o("div",{staticClass:"myaccount-item"},[o("span",[t._v("进度记录")]),o("br"),t._v(" "),o("span",{staticStyle:{"font-size":"28px",color:"#fd9b1c"}},[t._v(t._s(t.data.totalRecords))]),t._v(" "),o("span",[t._v("条")])])]),t._v(" "),o("MyEcharts"),t._v(" "),o("div",{staticStyle:{"margin-left":"6px","margin-top":"6px"}},[t._v("阅读书籍")]),t._v(" "),t._l(t.items,function(t,e){return o("div",{key:e},[o("MyaccountItem",{attrs:{item:t}})],1)})],2):o("div",{staticClass:"visitor"},[o("div",{staticClass:"myaccount-user"},[o("el-avatar",{staticStyle:{height:"90px",width:"90px"},attrs:{src:t.imgUrl()}}),t._v(" "),o("div",{staticStyle:{"font-size":"22px","margin-left":"7%"}},[t._v("未登录")])],1),t._v(" "),o("el-button",{staticClass:"myaccount-login",attrs:{type:"primary"},on:{click:function(e){return t.routeTo("Login")}}},[t._v("前往登录/注册")])],1),t._v(" "),o("FooterBar")],1)},staticRenderFns:[]};var et=o("VU/8")(Q,tt,!1,function(t){o("Fzcs")},"data-v-5f80315b",null).exports,ot={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",{staticStyle:{height:"50px","margin-bottom":"20px"}},[o("el-aside",{staticStyle:{width:"100px",height:"50px"}},[o("div",{staticClass:"border_weekday",staticStyle:{height:"20px"}},[t._v("\n            "+t._s(t.item.date)+"\n        ")]),t._v(" "),o("div",{staticClass:"border_range",staticStyle:{height:"27px"}},[t._v("\n            "+t._s(t.item.startPage)+"-"+t._s(t.item.endPage)+"\n        ")])]),t._v(" "),o("el-main",{staticClass:"border_record",staticStyle:{width:"200px",height:"50px",padding:"2px"}},[t._v("\n            "+t._s(t.item.note)+"\n    ")])],1)},staticRenderFns:[]};var it={name:"BookDetails",components:{ReadingRecords:o("VU/8")({name:"ReadingRecords",props:["item"],data:function(){return{data:"12.21",startpage:100,endpage:200,text:"我的未来已经无法和你再走在一起了，就算我们相遇了，对你而言也不会是幸福吧，所以我想要活下去，只是想要守护着你，像幽灵一般的存在。"}},methods:{}},ot,!1,function(t){o("saZj")},"data-v-6aa5a688",null).exports},data:function(){return{items:"",user_id:"1",isbn:"",bookname:"你当像鸟飞往你的山",book_pic:"https://img9.doubanio.com/view/subject/l/public/s33492346.jpg",writer:"[美]塔拉·韦斯特弗",month:"3",date:"5",percentage:0,status:0,score:4,description:"★ 奇迹！一部新人处女作，上市第一周即登上《纽约时报》畅销榜，至今已累计80周，仍高居Top1，全美销量破百万册，作者因此书被《时代周刊》评为“年度影响力人物”\r\n★ 比尔•盖茨年度荐书 第一名\r\n★ 美国亚马逊年度编辑选书 第一名\r\n★《纽约时报》《华尔街日报》《波士顿环球报》畅销书排行 第一名\r\n★ Goodreads读者票选超越米歇尔《成为》，获年度最佳图书\r\n★《洛杉矶时报》最佳传记奖\r\n★《纽约时报》《卫报》《华盛顿邮报》《泰晤士报》《星期日泰晤士报》《经济学人》《奥普拉杂志》、美国国家公共广播电台等二十多家权威媒体 年度图书\r\n一个惊人的故事，真正鼓舞人心。我在阅读她极端的童年故事时，也开始反思起自己的生活。《你当像鸟飞往你的山》每个人都会喜欢。它甚至比你听说的还要好。\r\n——比尔•盖茨\r\n教育意味着获得不同的视角，理解不同的人、经历和历史。接受教育，但不要让你的教育僵化成傲慢。教育应该是思想的拓展，同理心的深化，视野的开阔。它不应该使你的偏见变得更顽固。如果人们受过教育，他们应该变得不那么确定，而不是更确定。他们应该多听，少说，对差异满怀激情，热爱那些不同于他们的想法。\r\n——塔拉•韦斯特弗，《福布斯杂志》访谈\r\n你可以用很多说法来称呼这个全新的自我：转变，蜕变，虚伪，背叛。而我称之为：教育。\r\n——塔拉•韦斯特弗\r\n------------------------------------------------------------------\r\n★作者亲定中文版书名《你当像鸟飞往你的山》\r\n人们只看到我的与众不同：一个十七岁前从未踏入教室的大山女孩，却戴上一顶学历的高帽，熠熠生辉。\r\n只有我知道自己的真面目：我来自一个极少有人能想象的家庭。我的童年由垃圾场的废铜烂铁铸成，那里没有读书声，只有起重机的轰鸣。不上学，不就医，是父亲要我们坚持的忠诚与真理。父亲不允许我们拥有自己的声音，我们的意志是他眼中的恶魔。\r\n哈佛大学，剑桥大学，哲学硕士，历史博士……我知道，像我这样从垃圾堆里爬出来的无知女孩，能取得如今的成就，应当感激涕零才对。但我丝毫提不起热情。\r\n我曾怯懦、崩溃、自我怀疑，内心里有什么东西腐烂了，恶臭熏天。\r\n直到我逃离大山，打开另一个世界。\r\n那是教育给我的新世界，那是我生命的无限可能。"}},computed:{},methods:{routeTo:function(t,e){this.$router.push({name:t,params:e})},getBookDetails:function(){var t=this;this.$axios.get("/books/information/detail?id="+this.user_id+"&isbn="+this.isbn).then(function(e){t.isbn=e.data.isbn,t.bookname=e.data.name,t.book_pic=e.data.pic,t.writer=e.data.writer,t.description=e.data.introduction,t.percentage=e.data.percentage,t.status=e.data.status})},addWantToRead:function(){var t={id:this.user_id,isbn:this.isbn};this.$axios.put("api/books/change/",t)},addHaveRead:function(){var t={user_id:this.user_id,isbn:this.isbn,point:this.score};this.$axios.put("api/books/end",t)}},created:function(){var t=this;this.user_id=localStorage.getItem("userId"),""==t.isbn&&(this.isbn=this.$route.params.isbn),this.getBookDetails(),console.log("status:",t.status),0!=t.status&&4!=t.status||this.$axios.get("/records/all?id="+this.user_id+"&isbn="+this.isbn).then(function(e){console.log("data:",e.data),t.items=e.data,console.log("items:",t.items)})}},at={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",{attrs:{id:"item-detail"}},[t._v("图书详情")]),t._v(" "),o("div",{staticStyle:{"margin-top":"5px"},attrs:{id:"box_book"}},[o("img",{staticStyle:{height:"30%",width:"30%","margin-left":"10px"},attrs:{src:t.book_pic}}),t._v(" "),o("div",{attrs:{id:"book_info"}},[o("div",{attrs:{id:"book_name"}},[t._v(t._s(t.bookname)+" ")]),t._v(" "),o("div",{attrs:{id:"writer_name"}},[t._v(t._s(t.writer))]),t._v(" "),3==t.status||4==t.status?o("div",{attrs:{id:"box_read_time"}},[o("div",{staticStyle:{"margin-right":"10px"},attrs:{id:"read_time"}},[t._v("上次阅读时间")]),t._v(" "),o("div",{attrs:{id:"number"}},[t._v(t._s(t.month))]),t._v(" "),o("div",{attrs:{id:"read_time"}},[t._v("月")]),t._v(" "),o("div",{attrs:{id:"number"}},[t._v(t._s(t.date))]),t._v(" "),o("div",{attrs:{id:"read_time"}},[t._v("日")])]):t._e(),t._v(" "),3==t.status?o("el-progress",{staticStyle:{width:"195px","margin-bottom":"3px"},attrs:{"text-inside":!0,"stroke-width":19,percentage:(100*t.percentage).toFixed(2)}}):t._e(),t._v(" "),0==t.status||1==t.status||2==t.status||4==t.status?o("div",{staticStyle:{"margin-bottom":"21px"}}):t._e(),t._v(" "),2==t.status||3==t.status?o("el-button-group",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addHaveRead()}}},[t._v("阅读完成")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:"AddRecord",params:{isbn:t.isbn}})}}},[t._v("添加记录")])],1):4==t.status?o("el-rate",{staticStyle:{"margin-bottom":"1px"},attrs:{max:5,"show-score":!0,"text-color":"#ff9900","aria-valuenow":"tmp_score","score-template":"{value}","allow-half":!0},model:{value:t.score,callback:function(e){t.score=e},expression:"score"}}):0==t.status?o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.routeTo("Login")}}},[t._v("\r\n                加入想读\r\n            ")]):1==t.status?o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addWantToRead()}}},[t._v("\r\n                加入想读\r\n            ")]):t._e()],1)]),t._v(" "),3==t.status||4==t.status?o("el-divider",{attrs:{"content-position":"center"}},[t._v("书 摘")]):t._e(),t._v(" "),0==t.status||1==t.status||2==t.status?o("el-divider",{attrs:{"content-position":"center"}},[t._v("图 书 简 介")]):t._e(),t._v(" "),o("div",{attrs:{id:"box_details"}},[3==t.status||4==t.status?o("div",t._l(t.items,function(t,e){return o("div",{key:e},[o("ReadingRecords",{attrs:{item:t}})],1)}),0):t._e(),t._v(" "),0==t.status||1==t.status||2==t.status?o("div",{attrs:{id:"box_description"}},[o("div",[t._v(t._s(t.description))])]):t._e()])],1)},staticRenderFns:[]};var st=o("VU/8")(it,at,!1,function(t){o("CcRi"),o("U4Qg")},"data-v-38916daf",null).exports,nt={name:"AddRecord",data:function(){return{user_id:"0",form:{startpage:"",endpage:"",date:"",text:""}}},methods:{routeTo:function(t,e){this.$router.push({name:t,params:e})},addRecord:function(){var t={id:this.user_id,isbn:this.isbn,startPage:this.form.startpage,endPage:this.form.endpage,note:this.form.text};this.$axios.put("api/records/add/",t)}},created:function(){this.user_id=localStorage.getItem("userId"),this.isbn=this.$route.params.isbn}},rt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-button",{staticClass:"return",attrs:{plain:"",icon:"el-icon-arrow-left"},on:{click:function(e){return t.routeTo("BookDetails")}}},[t._v("返回")]),t._v(" "),o("el-form",{staticClass:"record-card"},[o("el-form-item",{attrs:{label:"阅读时间"}},[o("el-col",{attrs:{span:11}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"起始页码"}},[o("el-input",{staticStyle:{width:"20%"},model:{value:t.form.startpage,callback:function(e){t.$set(t.form,"startpage",e)},expression:"form.startpage"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"终止页码"}},[o("el-input",{staticStyle:{width:"20%"},model:{value:t.form.endpage,callback:function(e){t.$set(t.form,"endpage",e)},expression:"form.endpage"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"书摘内容"}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),t._v(" "),o("el-button",{staticStyle:{"flex-grow":"2"},attrs:{type:"primary",id:"button2"},on:{click:function(e){return t.addRecord()}}},[t._v("添加")])],1)],1)},staticRenderFns:[]};var ct=o("VU/8")(nt,rt,!1,function(t){o("DS5Z")},"data-v-1ba507b4",null).exports,lt={name:"BookList",components:{BookItem:f},data:function(){return{booklist_id:"0",booklist_name:"",booklist_time:"",booklist_introduction:"",items:""}},created:function(){this.booklist_id=this.$route.params.booklist_id,this.getBookList()},methods:{getBookList:function(){var t=this;this.$axios.get("booklists/information/"+this.booklist_id).then(function(e){t.booklist_name=e.data.name,t.booklist_time=e.data.time,t.booklist_introduction=e.data.introduction,t.items=e.data.books,console.log(t.books)})}}},ut={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"box"}},[o("el-button",{staticClass:"return",attrs:{plain:"",icon:"el-icon-arrow-left"},on:{click:function(e){return t.routeTo("Homepage")}}},[t._v("返回")]),t._v(" "),o("span",[t._v(t._s(t.booklist_name))]),t._v(" "),o("span",[t._v("发布时间："+t._s(t.booklist_time))]),t._v(" "),t._l(t.items,function(t,e){return o("div",{key:e},[o("BookItem",{attrs:{item:t,status:1}})],1)})],2)},staticRenderFns:[]};var dt=o("VU/8")(lt,ut,!1,function(t){o("aZgf")},"data-v-90ea921e",null).exports;i.default.use(n.a);var mt,pt,vt=new n.a({routes:[{path:"/",name:"Homepage",component:_},{path:"/want",name:"WantToRead",component:k},{path:"/reading",name:"Reading",component:w},{path:"/have",name:"HaveRead",component:$},{path:"/add",name:"AddByHand",component:I},{path:"/result",name:"ResultShow",component:T},{path:"/scan",name:"Scan",component:H},{path:"/login",name:"Login",component:j},{path:"/register",name:"Register",component:Y},{path:"/settings",name:"Settings",component:X},{path:"/myaccount",name:"Myaccount",component:et},{path:"/bookdetails",name:"BookDetails",component:st},{path:"/addrecord",name:"AddRecord",component:ct},{path:"/booklist",name:"BookList",component:dt}]}),_t=o("zL8q"),ht=o.n(_t),ft=(o("YWLt"),o("NrZ4"),o("NYxO")),bt=o("woOf"),gt=o.n(bt),kt=o("mtWM"),xt=o.n(kt),yt=(mt=E()(z.a.mark(function t(e,o,i){var a,s,n;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=window.localStorage.token,s=a?{Authorization:"Bearer "+a}:{},console.log("headers:",s),o.match(/^http|\/\//g)||(o=St+o),console.log(e),console.log(o),console.log(a),console.log(i),t.next=11,xt()({method:e,url:o,data:P.a.stringify(i),headers:s});case 11:if(n=t.sent,console.log(n),!(n.status<400)){t.next=17;break}return t.abrupt("return",n);case 17:throw{message:n.statusText};case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(0),console.log("err"),console.log(t.t0),Message({message:t.t0.message,type:"error",duration:1e3});case 25:case"end":return t.stop()}},t,this,[[0,20]])})),function(t,e,o){return mt.apply(this,arguments)}),wt=(pt=E()(z.a.mark(function t(e){var o;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt(Ft,"/api/users/login",e);case 2:return o=t.sent,t.abrupt("return",o.data);case 4:case"end":return t.stop()}},t,this)})),function(t){return pt.apply(this,arguments)}),St="http://49.234.81.69:8081",Ft="POST",$t={request:yt,getAuthority:wt},Ct={namespaced:!0,state:{user:new function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c()(this,t),this.userId=e.userId,this.name=e.name,this.phone=e.phone,this.avatar=e.avatar,this.status=e.status}},getters:{},actions:{getAuthority:function(t,e){var o=this,i=t.commit;t.state;return E()(z.a.mark(function t(){var a,s,n,r,c,l,u;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$t.getAuthority(e);case 2:a=t.sent,s=a.userId,n=a.name,r=a.phone,c=a.avatar,l=a.status,u=a.authorization,gt()(window.localStorage,{token:u,userId:s,phone:r,name:n,avatar:c,status:l}),i("setUser",{token:u,userId:s,phone:r,name:n,avatar:c,status:l}),console.log("id:",s),window.vm.$router.push({name:"Myaccount"});case 13:case"end":return t.stop()}},t,o)}))()}},mutations:{setUser:function(t,e){t.user=gt()({},t.user,e)}}};i.default.use(ft.a);var Rt=new ft.a.Store({modules:{profile:Ct},strict:!1}),It=o("XLwt"),Bt=o.n(It),Dt=o("f3bp"),Tt=o("mtWM");Tt.defaults.baseURL="http://49.234.81.69:8081/api",i.default.prototype.$axios=Tt,i.default.prototype.$echarts=Bt.a,i.default.config.productionTip=!1,i.default.use(ht.a),i.default.use(Dt.a);var Ut=window.localStorage,zt=Ut.token,Vt=Ut.userId,Et=Ut.phone,Lt=Ut.name,Mt=Ut.avatar,At=Ut.status;Rt.commit("profile/setUser",{token:zt,userId:Vt,phone:Et,name:Lt,avatar:Mt,status:At}),window.vm=new i.default({el:"#app",router:vt,store:Rt,components:{App:s},template:"<App/>",metaInfo:{title:"JoyRead",meta:[{charset:"utf-8"},{name:"referrer",content:"never"}]}})},NrZ4:function(t,e){},SyDy:function(t,e){},TRpD:function(t,e){},U4Qg:function(t,e){},W6HP:function(t,e){},WxHO:function(t,e){},"X/aj":function(t,e){},YWLt:function(t,e){},aZgf:function(t,e){},anSN:function(t,e){},ffhc:function(t,e){},ik03:function(t,e){},msXH:function(t,e,o){t.exports=o.p+"static/img/sign_pic.c57f007.png"},s3Fb:function(t,e){},saZj:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f0a446449fb06ea4076a.js.map